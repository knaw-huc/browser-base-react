import e,{useState as n,useEffect as t}from"react";import{Link as a,useNavigate as c,useNavigation as i,useLoaderData as r,RouterProvider as l,createBrowserRouter as o,Outlet as s}from"react-router-dom";function d(n){document.title=n.title;const t="search/"+window.btoa(JSON.stringify({searchvalues:[],page:1,page_length:30,sortorder:"title"}));return e.createElement("div",{className:"hcContentContainer"},e.createElement("h2",null,n.title),e.createElement("p",null,n.description),e.createElement(a,{to:t},"Browse"))}function m(n){const t=c(),a=i(),{searchStruc:l,result:o}=r();document.title=`Search | ${n.title}`;return e.createElement("div",{className:"hcContentContainer"},e.createElement("div",{className:"hcBasicSideMargin hcMarginBottom1"},e.createElement("h1",null,"Search")),e.createElement("div",{className:"hcLayoutFacet-Result hcBasicSideMargin"},e.createElement("div",{className:"hcLayoutFacets"},e.createElement("div",{className:"hcLayoutFacetsToggel"},e.createElement(n.facetsComponent,{sendCandidateHandler:e=>{if(0===l.searchvalues.length)l.searchvalues=[{name:e.facet,field:e.field,values:[e.candidate]}],l.page=1;else if("object"==typeof l.searchvalues){let n=!1;l.searchvalues.forEach((t=>{t.name===e.facet&&(n=!0,t.values.includes(e.candidate)||t.values.push(e.candidate))})),n||l.searchvalues.push({name:e.facet,field:e.field,values:[e.candidate]})}t("/search/"+window.btoa(JSON.stringify(l))),window.scroll(0,0)}}))),e.createElement("div",{className:"hcLayoutResults"},e.createElement("div",{className:"hcResultsHeader hcMarginBottom1"},e.createElement("div",null,o.amount," items found")),e.createElement("div",{className:"hcMarginBottom2"},e.createElement("div",{className:"hcSmallTxt hcTxtColorGreyMid"},"Selected facets:",e.createElement("span",{className:"hcFacetReset hcClickable",onClick:function(){l.searchvalues=[],t("/search/"+window.btoa(JSON.stringify(l)))}},"Reset facets")),0===l.searchvalues.length?e.createElement("span",{className:"hcSelectedFacet"},e.createElement("span",{className:"hcSelectedFacetType"},"None")):l.searchvalues.map((n=>e.createElement("span",{className:"hcSelectedFacet"},e.createElement("span",{className:"hcSelectedFacetType"},n.name,": "),n.values.map(((a,c)=>e.createElement("div",{className:"hcFacetValues",key:c,onClick:()=>{return e=n.name,c=a,"object"==typeof l.searchvalues&&(l.searchvalues.forEach((n=>{n.name===e&&(n.values=n.values.filter((e=>e!==c)))})),l.searchvalues=l.searchvalues.filter((e=>e.values.length>0)),0===l.searchvalues.length&&(l.searchvalues=[])),t("/search/"+window.btoa(JSON.stringify(l))),void window.scroll(0,0);var e,c}},a," ","[x]"))))))),"loading"===a.state?e.createElement("div",{className:"hcResultListLoading"},"Loading..."):e.createElement("div",null,o.items.map(((t,a)=>e.createElement(n.resultItemComponent,{item:t,key:a})))))))}const h=e=>async({params:n})=>fetch(e(n.id));function u(n){const t=i(),a=r();return document.title=`Item | ${n.title}`,"loading"===t.state?e.createElement("div",{className:"hcContentContainer"},e.createElement("div",null,"Loading")):e.createElement(n.detailComponent,{data:a})}function p(a){const[c,i]=n(""),[r,l]=n(!0);function o(){""!==c&&(a.add({facet:"Free text",field:"FREE_TEXT",candidate:c}),l(!r))}return t((()=>{i("")}),[r]),e.createElement("div",{className:"hcFacet"},e.createElement("div",{className:"hcFacetTitle"},"Text search"),e.createElement("div",{className:"hcFacetSearch"},e.createElement("input",{type:"text",name:"",id:"freeText",value:c,placeholder:"Press ENTER to search",onChange:function(e){i(e.currentTarget.value)},onKeyUp:function(e){"Enter"===e.key&&o()}}),e.createElement("button",{type:"button",name:"button",onClick:()=>{o()}},"Search")))}function f(a){const[c,i]=n([]),[r,l]=n(a.url+"?name="+a.field+"&amount=10"),[o,s]=n(!0),[d,m]=n(!0),[h,u]=n(!0);return t((()=>{!async function(){const e=await fetch(r),n=await e.json();i(n),s(!1)}()}),[r]),e.createElement("div",{className:"hcFacet"},e.createElement("div",{className:"hcFacetTitle",onClick:()=>u(!h)},e.createElement("span",null,a.name),e.createElement("span",{className:"hcIconHelp"},h?"+":"-")),!h&&e.createElement("div",{className:"hcFacetItems"},o?e.createElement("div",null,"Loading..."):e.createElement("div",null,c.map(((n,t)=>e.createElement("div",{key:t,className:"hcFacetItem",onClick:()=>{return e=n.key,void a.parentCallback({facet:a.name,field:a.field,candidate:e});var e}},e.createElement("div",{className:"checkBoxLabel"}," ",n.key," (",n.doc_count,")")))),e.createElement("div",{className:"hcClickable",onClick:function(){l(d?a.url+"?name="+a.field+"&amount=500":a.url+"?name="+a.field+"&amount=10"),m(!d)}},d?e.createElement("div",null,"More..."):e.createElement("div",null,"Less...")))))}function g(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css","top"===t&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e))}}function x(n){return e.createElement(e.Fragment,null,e.createElement("div",{className:"hcContentContainer pageHeader"},e.createElement("header",{className:"hcPageHeaderSimple hcBasicSideMargin"},e.createElement("div",{className:"hcBrand"},e.createElement(a,{to:"/"},e.createElement("div",{className:"hcTitle"},n.title))))),e.createElement("div",{className:"hcContentContainer pageHeaderAfter"}))}g(".hcPageHeaderSimple {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    font-size: 0.9rem;\n    width: 100%;\n}\n\n.hcPageHeaderSimple > * {\n    height: 100%;\n    display: flex;\n    align-items: center;\n}\n\n.hcBrand {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    height: 100%;\n}\n\n.hcTitle {\n    display: inline-block;\n    font-weight: bold;\n    font-size: 24px;\n    padding-top: 18px;\n}\n\n.pageHeader {\n    margin-bottom: 1rem;\n    background-color: #082045;\n    color: #fff;\n}\n\n.pageHeader a {\n    color: #fff;\n}\n\n.pageHeaderAfter {\n    margin-bottom: 5rem;\n    border-bottom: 1px solid #ededed;\n}");function y(n){const t={path:"/",element:e.createElement(b,{header:n.headerElement||e.createElement(x,{title:n.title}),footer:n.footerElement}),children:[...n.childRoutes||[],{index:!0,element:n.rootElement||e.createElement(d,{title:n.title,description:n.description})},{path:"search/:code",loader:(a=n.searchUrl,c=n.pageLength,i=n.sortOrder,async({params:e})=>{const n=JSON.parse(window.atob(e.code)),t={searchvalues:n.searchvalues,page:n.page,page_length:c||500,sortorder:i||"title"},r=await fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});return{searchStruc:t,result:await r.json()}}),element:e.createElement(m,{title:n.title,facetsComponent:n.facetsComponent,resultItemComponent:n.resultItemComponent})},{path:"detail/:id",loader:h(n.getFetchUrl),element:e.createElement(u,{title:n.title,detailComponent:n.detailComponent})}]};var a,c,i;return e.createElement(l,{router:o([t])})}function b(n){return e.createElement(e.Fragment,null,n.header,e.createElement(s,null),n.footer)}g('@import url("https://fonts.googleapis.com/css?family=Roboto:300,300i,700,700i");\n\nhtml,\nbody {\n    padding: 0;\n    margin: 0;\n}\n\n* {\n    box-sizing: border-box;\n}\n\na {\n    color: #0087d4;\n    text-decoration: none;\n}\n\nhtml {\n    font-size: 100%;\n}\n\nbody {\n    font-family: "Roboto", sans-serif;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 140%;\n    font-style: normal;\n    background-color: #fff;\n    color: #3e3e3e;\n    margin: 0;\n    padding: 0;\n}\n\nh1 {\n    font-size: 1.5em;\n    line-height: 130%;\n    font-weight: 700;\n}\n\nh2 {\n    font-size: 1.3em;\n    line-height: 130%;\n    font-weight: 700;\n}\n\nh1, h2 {\n    margin-top: 0;\n    margin-bottom: 0.3em;\n}\n\n@media (min-width: 600px) {\n    body {\n        font-size: 18px;\n        line-height: 150%;\n    }\n\n    h1 {\n        font-size: 2em;\n    }\n\n    h1, h2 {\n        line-height: 150%;\n    }\n\n    span {\n        display: flex;\n        flex-direction: row;\n        align-items: baseline;\n        padding-right: 1rem;\n    }\n\n    select {\n        background-color: none;\n    }\n}\n\np {\n    margin-top: 0;\n    margin-bottom: 1em;\n}\n\nstrong {\n    font-weight: 700;\n}\n\nbutton {\n    font-size: 0.7rem;\n    padding: 0.5rem;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.07);\n    border: 1px solid rgba(0, 0, 0, 0.09);\n    cursor: pointer;\n    font-weight: 700;\n    margin: 0 0.3rem;\n    max-height: 40px;\n}\n\ninput, select, option, textarea {\n    width: 100%;\n    padding: 0.5rem;\n    border: 1px solid #e1ebf3;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: 300;\n    color: #3e3e3e;\n    height: 40px;\n}\n\ninput[type=checkbox] {\n    width: 20px;\n    height: 20px;\n}\n\ninput::placeholder {\n    color: gray;\n    font-style: italic;\n    font-size: 0.85rem;\n}\n\n.hcContentContainer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n}\n\n.hcTxtColorGreyMid {\n    color: #666666;\n}\n\n.hcSmallTxt {\n    font-size: 0.85rem;\n}\n\n.hcBasicSideMargin {\n    padding-left: 2rem;\n    padding-right: 2rem;\n}\n\n.hcMarginBottom1 {\n    margin-bottom: 1rem;\n}\n\n.hcMarginBottom2 {\n    margin-bottom: 2rem;\n}\n\n.hcResultsHeader {\n    display: flex;\n    justify-content: space-between;\n}\n\n.hcContentContainer > * {\n    width: 100%;\n    max-width: 1200px;\n}\n\n.hcLayoutFacet-Result {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n.hcLayoutFacets {\n    width: 100%;\n}\n\n.hcLayoutResults {\n    width: 100%;\n}\n\n.hcLayoutFacetsToggel {\n    display: flex;\n    height: 230px;\n    flex-direction: row;\n    overflow-x: auto;\n    background-color: #fafafa;\n}\n\n.hcLayoutFacetsToggel div {\n    width: 250px;\n    margin-right: 3rem;\n}\n\n@media (min-width: 800px) {\n    .hcLayoutFacet-Result {\n        flex-direction: row;\n    }\n\n    .hcLayoutFacets {\n        width: 350px;\n    }\n\n    .hcLayoutResults {\n        width: calc(100% - 350px);\n    }\n\n    .hcLayoutFacetsToggel {\n        display: block;\n        overflow-x: none;\n        height: auto;\n        flex-direction: column;\n        background: none;\n    }\n\n    .hcLayoutFacetsToggel div {\n        width: 100%;\n        margin-right: auto;\n    }\n}\n\n.hcFacet {\n    margin-bottom: 1rem;\n    max-width: 250px;\n    font-size: 0.85rem;\n}\n\n.hcFacetItems {\n    display: flex;\n    flex-direction: column;\n}\n\n.hcFacetItem {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.hcFacetItem .hcFacetItemSpan {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    height: 15px;\n}\n\n.hcFacetItem .hcFacetItemSpan input[type=checkbox] {\n    width: 15px;\n    background-color: #eee090;\n}\n\n.hcFacetItemSelected {\n    font-weight: 700;\n}\n\n.hcFacetTitle {\n    text-transform: uppercase;\n    font-size: 0.85rem;\n    font-weight: 700;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    cursor: pointer;\n}\n\n.hcFacetCount {\n    color: #666666;\n}\n\n.hcFacetSearch {\n    display: flex;\n    justify-content: space-between;\n}\n\n.hcFacetSearch input {\n    border-radius: 4px 0 0 4px;\n    border-right: 0;\n}\n\n.hcFacetSearch button {\n    margin: 0;\n    border-radius: 0 4px 4px 0;\n}\n\n.hcSelectedFacet {\n    font-size: 0.85rem;\n    padding: 0.2rem 0.5rem;\n    background-color: #f6f6f6;\n    border-radius: 3px;\n    margin: 0 0.5rem 0.5rem 0;\n    cursor: pointer;\n}\n\n.hcSelectedFacet:after {\n    margin-left: 0.3rem;\n    opacity: 0.4;\n}\n\n.hcSelectedFacetType {\n    color: rgba(0, 0, 0, 0.4);\n    font-style: italic;\n    margin-right: 0.3rem;\n}\n\n.hcFacetFilter input {\n    padding: 0.3rem;\n    font-size: 0.85rem;\n    height: auto;\n    border: 1px solid #ebebeb;\n}\n\n.hcFacetFilter input::placeholder {\n    font-style: italic;\n    color: rgba(0, 0, 0, 0.4);\n}\n\n.hcFacetHelp {\n    display: none;\n    position: absolute;\n    background-color: #25a39a;\n    padding: 0.5rem;\n    width: 250px;\n}\n\n.hcPagination {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    flex-wrap: wrap;\n}\n\n.hcPagination > * {\n    margin: 0 0.5rem;\n}\n\n.hcPagination a {\n    padding: 0.5rem;\n}\n\n.hcTxtColorGreyMid {\n    color: #999999;\n}\n\n.hcSmallTxt {\n    font-size: 0.9rem;\n}\n\n.hcClickable {\n    color: #0087d4;\n    cursor: pointer;\n    display: inline;\n}\n\n.hcFacetItem {\n    cursor: pointer;\n}\n\n.hcFacetReset {\n    float: right;\n}\n\n.hcFacetValues {\n    margin-right: 4px;\n}\n');export{y as BrowserBase,p as FreeTextFacet,f as ListFacet};
